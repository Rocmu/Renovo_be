import"./modulepreload-polyfill-B5Qt9EMX.js";import{f as l}from"./fetch-DBomrZ5j.js";const u=async r=>{r.preventDefault();const o=document.querySelector("#login-form"),n=o.querySelector("input[type=text]").value,s=o.querySelector("input[type=password]").value,a={username:n,password:s},i="https://thehyte.northeurope.cloudapp.azure.com/api/auth/kubios-login",c={body:JSON.stringify(a),method:"POST",headers:{"Content-type":"application/json"}},e=await l(i,c);if(e.error){const t=document.querySelector("#login-valid-confirm");t.innerHTML="Sisäänkirjautuminen epäonnistui. Väärä käyttäjänimi/salasana.",console.error("Error adding a new user:",e.error);return}if(e.message){const t=document.querySelector("#login-valid-confirm");t.innerHTML="",console.log(e.message,"success"),localStorage.setItem("token",e.token),localStorage.setItem("nimi",e.user),localStorage.setItem("user_id",e.user_id),location.href="https://thehyte.northeurope.cloudapp.azure.com/home.html"}console.log(e),o.reset()},m=document.querySelector("#login-form");m.addEventListener("submit",u);
